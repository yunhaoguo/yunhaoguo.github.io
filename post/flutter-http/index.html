<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>
        
        Yunhao Blog
        
    </title>
    <meta name="viewport" id="viewport" content="width=device-width, initial-scale=1">
    <link rel='icon' type='image/x-icon' href="https://yunhaoguo.github.io/images/logo.png" />
    <link rel="apple-touch-icon" href="https://yunhaoguo.github.io/images/logo.png"><link rel="stylesheet" href="https://yunhaoguo.github.io/scss/style.css">
    
    <link rel="stylesheet" href="https://yunhaoguo.github.io/scss/monokai-sublime.min.css">
    <script src="https://yunhaoguo.github.io/js/highlight.min.js"></script>
    <link rel="stylesheet" href="https://yunhaoguo.github.io/scss/highlight.css">
    
    <link rel="stylesheet" href="https://yunhaoguo.github.io/scss/custom.css">
    
    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'Your Google Analytics tracking id', 'auto');
        ga('send', 'pageview');
    </script>
    
    
    <meta name="generator" content="Hugo 0.53" /></head>

<body>
<div class="header">
    <div class="site-logo__wrap">
        <div id="site-button">
            <div></div>
        </div>
        
        <div class=' site-logo '>
            <a href="https://yunhaoguo.github.io/"><img src="https://yunhaoguo.github.io/images/logo.png" /></a>
        </div>
    </div>
    
<div class=' site-nav u-font ' id="nav-bar">
    
    <div class="site-nav__wrap">
        <a class="site-nav__el" href="/" >HOME</a>
    </div>
    
    <div class="site-nav__wrap">
        <a class="site-nav__el" href="/post" >BLOG</a>
    </div>
    
    <div class="site-nav__wrap">
        <a class="site-nav__el" href="/about" >ABOUT</a>
    </div>
    
    <div class="site-nav__wrap">
        <a class="site-nav__el" href="/tags/" >TAGS</a>
    </div>
    
</div>
</div>
<div class="main">

<div class="main-content">
    <div class="main-content__date">
        <h4 id="date"> 2019.04.18 00:00 </h4>
    </div>
    <div class="main-content__title">
        <h1 id="title">Flutter-Http</h1>
    </div>
    <div class="main-content__article">
        <article id="content">
            

<h1 id="usage">Usage</h1>

<h3 id="add-dependency">Add Dependency</h3>

<p>Under dependencies in pubspec.yaml, add the following codes:</p>

<pre><code>  http: ^latest_version
</code></pre>

<h3 id="request-example">Request Example</h3>

<p>First, define a class model to hold the data received from internet:</p>

<pre><code>class CommonModel {
  final String icon;
  final String title;
  final String url;
  final String statusBarColor;
  final bool hideAppBar;

  CommonModel({this.icon, this.title, this.url, this.statusBarColor, this.hideAppBar});

  factory CommonModel.fromJson(Map&lt;String, dynamic&gt; json) {
    return CommonModel(
      icon: json['icon'],
      title: json['title'],
      url: json['url'],
      statusBarColor: json['statusBarColor'],
      hideAppBar: json['hideAppBar'],
    );
  }
}
</code></pre>

<p>Then, define a asynchronous method to send a request:</p>

<pre><code>Future&lt;CommonModel&gt; fetchPost() async {
  final response = await http.get('http://www.devio.org/io/flutter_app/json/test_common_model.json');
  final res = json.decode(response.body);
  return CommonModel.fromJson(res);
}
</code></pre>

<p>Finally, set the layout to show the result: (just the request method is shown)</p>

<pre><code>fetchPost().then((value) {
  setState(() {
    result = 'hideAppBar: ${value.hideAppBar} icon: ${value.icon}';
  });
});
</code></pre>

        </article>
    </div>
    <div class="main-content__tags u-font">
        
        
        <span><a href="https://yunhaoguo.github.io/tags/flutter">flutter</a></span>
        
        
    </div>
</div>
<div class="main-profile">
    <div class="main-profile__avatar">
        
    </div>
    <div class="main-profile__body">
        <div class="main-profile__author">
            
            <span> Yunhao </span>
            
        </div>
        <div class="main-profile__description">
            
            <p> All life is a game of luck. </p>
            
        </div>
    </div>
</div>
<div class="main-line"></div>
<div class="main-pn">
    
    <a class="previous" href="https://yunhaoguo.github.io/post/flutter-navigator/">
        <div class="pn-dec"></div>
        <div class="pn-els">
            <div class="pn-el__1"> 2019.04.16 00:00 </div>
            <div class="pn-el__2"> Flutter-Navigator </div>
        </div>
    </a>
    
    
    <a class="next" href="https://yunhaoguo.github.io/post/flutter-refresh/">
        <div class="pn-dec"></div>
        <div class="pn-els">
            <div class="pn-el__1"> 2019.04.21 00:00 </div>
            <div class="pn-el__2"> Flutter-Refresh </div>
        </div>
    </a>
    
</div>

</div>
<div class="footer">
    <div class="copyright-wrap">
        <p class="copyright u-font">
            
            &#169;
            2019
            
            <a href="https://yunhaoguo.github.io/" target="_blank">Author&#46;</a>
            Theme <a href="https://github.com/iCyris/hugo-theme-yuki" target="_blank">yuki</a>&#46;
            Powered by Hugo&#46;
            
            
        </p>
    </div>
</div>
</body>
<script src="https://yunhaoguo.github.io/js/page.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

